C51 COMPILER V9.01   UART_MODE1                                                            09/10/2024 22:44:20 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE UART_MODE1
OBJECT MODULE PLACED IN .\UART_mode1.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE ..\lib\UART_mode1.c OMF2 BROWSE DEBUG PRINT(.\UART_mode1.lst) OBJECT(.\UART
                    -_mode1.obj)

line level    source

   1          #include "main.h"
   2          #include "..\lib\UART_mode1.h"
   3          
   4          void UART_mode1_Init()
   5          {
   6   1          //mode 1
   7   1          SM0=0;
   8   1          SM1=1;
   9   1          //timer1 mode auto reload
  10   1          TMOD &= 0x0F;
  11   1              TMOD |= 0x20;
  12   1      
  13   1          //baud rate 9600
  14   1              #if (BAUD_RATE == 9600)
  15   1          TH1 = 0xFD;
  16   1              #elif (BAUD_RATE == 2400)
                  TH1 = 0xF4;
                      #elif (BAUD_RATE == 1200)
                  TH1 = 0xE8;
                      #elif (BAUD_RATE == 19200)
                  TH1 = 0xFD;
                      PCON |= 0x80;
                      #else
                       #error "vui long chon baud rate la 1 trong cac gia tri 1200 2400 9600 hoac 19200"
                      #endif
  26   1          //run timer1
  27   1          TR1=1;
  28   1          //san sang gui du lieu
  29   1          TI=1;
  30   1          //cho phep nhan du lieu
  31   1          REN=1;
  32   1      }
  33          
  34          void UART_Write(char c)
  35          {
  36   1          while(TI==0);
  37   1          TI=0;
  38   1          SBUF=c;
  39   1      }
  40          
  41          char UART_Data_Ready()
  42          {
  43   1          return RI;
  44   1      }
  45          char UART_Read()
  46          {
  47   1          RI=0;
  48   1          return SBUF;
  49   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     39    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.01   UART_MODE1                                                            09/10/2024 22:44:20 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
